<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('partials/common-meta') %>
    <title>Add Package</title>
    <script>
      function toggleFlatFee() {
        const packageType = document.querySelector(
          'select[name="packageType"]'
        ).value;
        const flatFeeInput = document.querySelector('input[name="flatFee"]');
        if (packageType === 'Regular') {
          flatFeeInput.disabled = true;
          flatFeeInput.value = ''; // Clear the value when disabled
        } else {
          flatFeeInput.disabled = false;
        }
      }

      document.addEventListener('DOMContentLoaded', () => {
        toggleFlatFee(); // Initial call to set the correct state on page load
        document
          .querySelector('select[name="packageType"]')
          .addEventListener('change', toggleFlatFee);
      });
    </script>
  </head>
  <body>
    <main>
      <%- include('partials/header') %>
      <h2>Add Package</h2>
      <form>
        <label
          >Package Type:
          <select name="packageType">
            <option value="Regular">Regular</option>
            <option value="OneDay">One Day</option>
            <option value="TwoDay">Two Day</option>
          </select>
        </label>
        <label>Sender Name: <input type="text" /> </label>
        <label
          >Sender Address:
          <input type="text" />
        </label>
        <label>Receiver Name: <input type="text" /> </label>
        <label
          >Receiver Address:
          <input type="text" />
        </label>
        <label>Weight (lbs)<input type="number" /> </label>
        <label>Cost Per Unit Weight<input type="number" /> </label>
        <label>Flat Fee<input name="flatFee" type="number" /> </label>
        <button>Add Package</button>
        <button>Back</button>
      </form>
    </main>
  </body>
</html>
